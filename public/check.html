<script src="https://www.gstatic.com/firebasejs/4.2.0/firebase.js"></script>
<script src='https://www.google.com/recaptcha/api.js'></script>
<button
class="g-recaptcha"
data-sitekey="6LcxzioUAAAAAJqo4o-Hcmgigto3uS97frAzWB-3"
data-callback="myFn()"
        id='button'>
Submit
</button>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyDPfxUwejRuK71kdNxiFhu2q6dplAyNL-Q",
    authDomain: "pointaloon.firebaseapp.com",
    databaseURL: "https://pointaloon.firebaseio.com",
    projectId: "pointaloon",
    storageBucket: "pointaloon.appspot.com",
    messagingSenderId: "171573965427"
  };
  firebase.initializeApp(config);
</script>

<script>


    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('button', {
  'size': 'invisible',
  'callback': function(response) {
    // reCAPTCHA solved, allow signInWithPhoneNumber.
   

myFn();
  }
});
    
    function myFn(){    var phoneNumber = '+59899355553';
var appVerifier = window.recaptchaVerifier;
firebase.auth().signInWithPhoneNumber(phoneNumber, appVerifier)
    .then(function (confirmationResult) {
      // SMS sent. Prompt user to type the code from the message, then sign the
      // user in with confirmationResult.confirm(code).
      window.confirmationResult = confirmationResult;
    }).catch(function (error) {
      // Error; SMS not sent
      // ...
    });
        
    }
        
    
    
    
    
    
    
    
    
    /*      var email = document.querySelector('#ulogin').value;
      var password = document.querySelector('#plogin').value;
      var credential = firebase.auth.EmailAuthProvider.credential(email, password);
      var auth = firebase.auth();
      var currentUser = auth.currentUser;
      err = 55;
      auth.signInWithCredential(credential).catch(function(error) {
             err=1;
  // Handle Errors here.
 console.log(error.code);
 console.log(error.message);
      if(error.code){  notify('Fallo el inicio de sesión, revise sus datos', 'inverse');
 }
      
          
  // ...
});
        
         notify('Autenticando...', 'inverse');
        

firebase.auth().onAuthStateChanged(function(user) {
  if (user) {       notify('Autenticado!', 'inverse');
   redirect('index.html')
  } else {
   //    notify('Fallo el inicio de sesión, revise sus datos', 'inverse');
 
  
  }
});
*/
</script>